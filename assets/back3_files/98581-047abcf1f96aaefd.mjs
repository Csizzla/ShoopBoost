"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[98581,35222],{13882:(e,t,i)=>{i.d(t,{Z:()=>n});function n(e,t){if(t.length<e)throw TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}},983946:(e,t,i)=>{i.d(t,{Z:()=>n});function n(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}},619013:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(13882);function o(e){(0,n.Z)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):(("string"==typeof e||"[object String]"===t)&&"undefined"!=typeof console&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn(Error().stack)),new Date(NaN))}},334589:(e,t,i)=>{i.d(t,{Z:()=>n});function n(e){return e?"/pin-creation-tool/":"/idea-pin-builder/"}},406718:(e,t,i)=>{i.d(t,{Z:()=>l});var n=i(340523),o=i(554786),s=i(149722),r=i(785059),a=i(199677);function l(e){let t=(0,o.HG)(),{checkExperiment:i}=(0,n.F)(),l=(0,r.Z)(),d=(0,s.Z)(),c=(0,a.lJ)(d,l),u=!t||i("web_sce_organic_pinbuilder_dep").anyEnabled,h=!t||i("web_sce_monetized_pinbuilder_dep").anyEnabled,_=i("uid_sce_lightswitch_advertisers").anyEnabled;return!c&&((e&&(i("sce_lightswitch_organic"),i("sce_lightswitch_monetized")),t)?!!(u||h||_):u||h)}},263032:(e,t,i)=>{i.d(t,{YS:()=>a,eF:()=>l,m_:()=>r});var n=i(934378),o=i(976731),s=i(953565);function r(e,t,i,o,r){let a=new URLSearchParams,l=t.reduce((e,t)=>{if(null!=t){let i=function(e){let t;try{t=decodeURIComponent(e)}catch(i){t=e}t.startsWith("http")?t.startsWith("http://")&&(t=t.replace("http://","https://")):t="https://"+t;try{return new URL(t).origin}catch(n){let i=t.match(/^(https?:\/\/[^\/]+)(\/|$)/);if(i&&i.length>1)return i[1];return e}}(t);return e.add(i)}return e},new Set);a.append(n.NR.SOURCE_EVENT_ID,e??"0"),a.append(n.NR.DESTINATION,JSON.stringify([...l])),a.append(n.NR.EXPIRY,i?n.uV:n.ug),a.append(n.NR.PRIORITY,i?n.NR.CLICK_PRIORITY:n.NR.VIEW_PRIORITY),r&&a.append(n.NR.ADVERTISER_ID,r),o&&a.append(n.NR.CAMPAIGN_ID,o),a.append(n.NR.SOURCE_EVENT_TYPE,i?n.bC:n.Cu);try{let{hostname:e}=new URL(window.location.href);"www.pinterest.com"!==e&&a.append(n.NR.HOSTNAME,e)}catch(e){(0,s.nP)("webapp.arapi.generateARASourceEventURL",{sampleRate:.1,tags:{status:"failed",href:window&&window.location&&window.location.href}})}return"https://www.pinterest.com/attribution_source/?"+a.toString()}async function a(e,t,i,n,a,l,d,c,u){let h;let{appType:_,osType:p}=l||{},b="",m="";if(["Pin","pinImpressions"].includes(e)&&t&&(n||c||u)){(0,s.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"start",appType:_,osType:p}});try{if(!window.document.featurePolicy?.allowsFeature("attribution-reporting")){(0,s.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"skipped",message:"attribution-reporting is not enabled",appType:_,osType:p}});return}b=r(i,[n,c,u],!1,a,d);try{m=new URL(window.location.href).hostname}catch(e){(0,s.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"hostname_parse_failed",href:window&&window.location&&window.location.href}})}if(m&&"www.pinterest.com"!==m)document.createElement("img").setAttribute("attributionsrc",b),(0,s.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"international",appType:_,osType:p,hostname:m}});else if(!(h=await window.fetch(b,{keepalive:!0,attributionReporting:{eventSourceEligible:!0,triggerEligible:!1}})).ok)throw Error("server request failed.");(0,s.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"success",appType:_,osType:p}})}catch(e){(0,s.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"failed",error:(0,o.Z)(e,"name"),message:(0,o.Z)(e,"message"),appType:_,osType:p,hostname:m,responseStatus:h&&h.status}})}}else(0,s.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"missing_param",appType:_,osType:p}})}function l(e){if(e){let t=e.toLowerCase();if(t.includes("windows"))return"windows xp"===t?1:"windows vista"===t?2:"windows 7"===t?3:"windows 8"===t?4:12;if(t.includes("mac os"))return 5;if(t.includes("android"))return 7;if(t.includes("ios"))return 6;if(t.includes("ubuntu"))return 8;if(t.includes("chromium os"))return 13}return 0}},86785:(e,t,i)=>{i.d(t,{G6:()=>s,i7:()=>r,oi:()=>n,u$:()=>o,un:()=>l,vU:()=>a,w1:()=>d});let n=Object.freeze({OTHER:0,CHROME:1,SAFARI:2,IE:3,FIREFOX:4,OPERA:5,EDGE:6}),o=e=>e?e.includes("Chrome")?n.CHROME:e.includes("Safari")?n.SAFARI:e.includes("Firefox")?n.FIREFOX:e.includes("Opera")?n.OPERA:e.includes("IE")?n.IE:e.includes("Edge")?n.EDGE:n.OTHER:n.OTHER;function s(e){return o(e)===n.SAFARI}function r(e){return o(e)===n.CHROME}function a(e){return o(e)===n.FIREFOX}function l(e){return o(e)===n.EDGE}function d(e){return o(e)===n.IE}},549629:(e,t,i)=>{i.d(t,{Q:()=>l,Z:()=>d});var n=i(667294),o=i(587703),s=i(525364),r=i(996523),a=i(5859);function l(e,t){let{setViewContextData:i}=(0,s.sV)(),{requestIdentifier:l}=(0,a.B)(),d=(0,o.Z)(),{viewData:c}=(0,s.SU)();(0,n.useEffect)(()=>{e&&(i({viewType:e.view_type??1,viewParameter:e.view_parameter,viewData:e.view_data?(0,r.Z)(c,e.view_data):c,component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),d({...e,event_type:13,request_identifier:l}))},[t])}function d(e){let{children:t,log:i}=e;return l(i),t||null}},510989:(e,t,i)=>{i.d(t,{Z:()=>n});let n=i(103322).Z},220488:(e,t,i)=>{i.d(t,{Z:()=>p});var n=i(667294),o=i(883119),s=i(510989),r=i(401429),a=i(862249),l=i(983983),d=i(785893);let c=l.fe,u=new o.Ry(c-1);function h(e){let{button:t,onClick:i}=e;return t.url?(0,d.jsx)(o.ZP,{color:"white",fullWidth:!0,href:t.url,onClick:i,rel:(0,a.Z)({url:t.url})?"nofollow":"none",text:t.text}):(0,d.jsx)(o.zx,{color:"white",fullWidth:!0,onClick:i,text:t.text})}let _=e=>{let t;let{anchors:i,experience:s,dismiss:r,complete:a,scrollToDismiss:l,onAnchorTouch:c,idealDirection:_}=e,p=!0,{message:b,anchor:m,complete_button:f}=(s||{}).display_data,g=i[m],v=()=>{t&&clearTimeout(t),r()},w=()=>{t||p||(t=setTimeout(()=>v(),1500)),p=!1};return(0,n.useEffect)(()=>(g&&(l&&(window.addEventListener("scroll",w),window.addEventListener("touchmove",w)),c&&g&&g.addEventListener("click","complete"===c?a:v)),()=>{l&&(window.removeEventListener("scroll",w),window.removeEventListener("touchmove",w),t&&clearTimeout(t)),c&&g&&g.removeEventListener("click","complete"===c?a:v)}),[g]),(0,d.jsx)(o.Li,{anchor:g,idealDirection:_,onDismiss:v,zIndex:u,children:(0,d.jsx)(o.xu,{padding:4,tabIndex:0,children:(0,d.jsxs)(o.kC,{direction:"column",gap:3,children:[(0,d.jsx)(o.xv,{color:"light",children:b}),f&&(0,d.jsx)(h,{button:f,onClick:a})]})})})},p=e=>{let{placementId:t,anchors:i}=e,[o,a]=(0,n.useState)(!0),l=()=>a(!1);return(0,d.jsx)(s.Z,{name:"ExperiencePopoverEducational",children:o&&(0,d.jsx)(r.Z,{placementId:t,predicate:e=>{if(e?.type!==29)return!1;let{anchor:t}=(e||{}).display_data;return!!t&&!!i[t]},children:({complete:t,dismiss:i,experience:n})=>(0,d.jsx)(_,{...e,complete:()=>{l(),t()},dismiss:()=>{l(),i()},experience:n})})})}},200201:(e,t,i)=>{i.d(t,{_:()=>l,a:()=>d});var n=i(667294),o=i(545007),s=i(105737),r=i(25919),a=i(5859);let l=({extraContext:e,id:t,shouldUsePlacedExperience:i=!0})=>{let l=(0,n.useRef)(),d=(0,o.I0)(),{isBot:c}=(0,a.B)(),u=(0,o.v9)(e=>e.experiences[t]);return(0,n.useEffect)(()=>{d((0,r.kd)(t))},[d,u,t]),(0,n.useEffect)(()=>{i||(0,s.ZP)(l.current,e)||(d((0,r.pz)([t],c,e)),l.current=e)},[d,e,c,t,i]),u},d=e=>(l(e),(0,o.v9)(t=>t.experiencesMulti[e.id]))},307772:(e,t,i)=>{function n(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i.d(t,{Z3:()=>u,LU:()=>h,ZP:()=>_});let o=window.location.search.includes("debug_impressions=1")||document.cookie&&document.cookie.indexOf("debug_impressions=1")>-1,s={paused:"Pause",resumed:"Resume",stopped:"Flush",enter:"Enter viewport",exit:"Exit viewport"},r={},a={background:"#FF8A8A",transform:"scale(.98)"},l={init:e=>({transform:`scale(${r[e]?.8:.99})`,transition:"transform .2s ease-in-out",background:"#8E8E8E"}),[s.enter]:{background:"#A0DCC8",transform:"scale(.99)"},[s.exit]:a,[s.stopped]:a,[s.paused]:a,[s.resumed]:{background:"#0FA573",transform:"scale(.99)"}};class d{constructor(e){n(this,"setMutationObserver",e=>(this.mutationObserver=e,this)),n(this,"startMutationObserver",e=>{this.mutationObserver&&this.mutationObserver.observe(this.node,e)}),n(this,"stopMutationObserver",()=>{this.mutationObserver&&this.mutationObserver.disconnect()}),n(this,"handleIntersectionChange",e=>{let t=e.intersectionRatio>0||e.isIntersecting,i=Date.now();e.intersectionRatio>0&&!this.visibleEvents.has(1)&&this.visibleEvents.set(1,i),e.intersectionRatio>.5?this.visibleEvents.has(50)||this.visibleEvents.set(50,i):this.visibleEvents.has(50)&&!this.hiddenEvents.has(50)&&this.hiddenEvents.set(50,i),e.intersectionRatio>.8?this.visibleEvents.has(80)||this.visibleEvents.set(80,i):this.visibleEvents.has(80)&&!this.hiddenEvents.has(80)&&this.hiddenEvents.set(80,i),1!==e.intersectionRatio||this.visibleEvents.has(2)||this.visibleEvents.set(2,i),e.boundingClientRect.top<=143&&this.visibleEvents.has(1)&&!this.hiddenEvents.has(1)&&this.hiddenEvents.set(1,i),e.boundingClientRect.bottom<=143&&this.visibleEvents.has(2)&&!this.hiddenEvents.has(2)&&this.hiddenEvents.set(2,i),t&&!this.inViewport?(this.startTime=i,this._debug(s.enter,{startTime:i,node:this.node}),this.enterCallbacks.forEach(e=>e())):!t&&this.inViewport&&(this._debug(s.exit,!0),this.exitCallbacks.forEach(e=>e(this.toJSON()))),this.inViewport=t}),this.enterCallbacks=[],this.exitCallbacks=[],this.inViewport=!1,this.node=e,this.startTime=0,this.debugId="",this.visibleEvents=new Map,this.hiddenEvents=new Map}onEnterViewport(e){return this.enterCallbacks.push(e),this}onExitViewport(e){return this.exitCallbacks.push(e),this}setDebugId(e){return this.debugId=e,o&&Object.assign(this.node.style,l.init(e)),this}pause(){return this.inViewport&&(this._debug(s.paused,!0),this.exitCallbacks.forEach(e=>e(this.toJSON()))),this}resume(){if(this.inViewport){let e=Date.now();this._debug(s.resumed,{startTime:e}),this.startTime=e}return this}stop(e){return this.inViewport&&(this._debug(s.stopped,!0),this.exitCallbacks.forEach(t=>t(this.toJSON(e)))),this}toJSON(e=""){return{startTime:1e6*this.startTime,endTime:1e6*Date.now(),forcedExit:e,hiddenEvents:this.hiddenEvents,visibleEvents:this.visibleEvents}}toDebugJSON(){return{pinID:this.debugId,startTime:this.startTime,endTime:Date.now(),duration:`${(Date.now()-this.startTime)/1e3} seconds`}}_debug(e,t){if(o)switch(window.console.log(`📌 ${e} -- ${this.debugId}`),!0===t&&window.console.log(this.toDebugJSON()),"object"==typeof t&&window.console.log(t),l[e]&&Object.assign(this.node.style,l[e]),e){case s.flushed:case s.paused:case s.exit:r[this.debugId]=!0}}}function c(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let u=!0,h=!1;class _{constructor(){c(this,"_delegateChange",e=>{e.forEach(e=>{let t=this.activeImpressions.get(e.target);t&&t.handleIntersectionChange(e)})}),c(this,"_handleMutations",(e,t)=>{let i=this.mutationObservers.get(t);i&&i.offsetHeight<1&&i&&this.stop(i,"removed")}),this.activeImpressions=new Map,this.mutationObservers=new Map,this.bottomHeight=0,this.bottomObstructions=new Set,this.pausePriority=h,this.observer=new window.IntersectionObserver(this._delegateChange),window.Cypress&&!window.activeImpressions&&(window.activeImpressions=new Map),this.paused=!1,this.topHeight=0,this.topObstructions=new Set,this.inExperiment=!1}setExperimentStatus(e){this.inExperiment!==e&&(this.inExperiment=e)}stop(e,t=""){let i=this.activeImpressions.get(e);i&&(i.stop(t),this.mutationObservers.delete(i.mutationObserver),i.stopMutationObserver(),this.activeImpressions.delete(e),window.activeImpressions?.delete(e),this.observer.unobserve(e))}start(e){let t=this.activeImpressions.get(e);return t||(t=new d(e),this.activeImpressions.set(e,t),window.activeImpressions?.set(e,t),this.observer.observe(e),t.setMutationObserver(new window.MutationObserver((e,t)=>this._handleMutations(e,t))),this.mutationObservers.set(t.mutationObserver,e),t.startMutationObserver({subtree:!0,attributes:!0,attributeFilter:["style"]})),t}pause(e=u){this.paused||(Array.from(this.activeImpressions.values()).forEach(e=>e.pause()),this.paused=!0,this.pausePriority!==h||(this.pausePriority=e))}resume(e=u){(e!==h||this.pausePriority!==u)&&this.paused&&(Array.from(this.activeImpressions.values()).forEach(e=>e.resume()),this.paused=!1,this.pausePriority=h)}addObstruction(e,t){"top"===e?this.topObstructions.add(t):"bottom"===e&&this.bottomObstructions.add(t),this._calculateRootMargins()}removeObstruction(e,t){"top"===e?this.topObstructions.delete(t):"bottom"===e&&this.bottomObstructions.delete(t),this._calculateRootMargins()}updateObstructions(){this._calculateRootMargins()}_calculateRootMargins(){let e=Array.from(this.topObstructions).reduce((e,t)=>{let{bottom:i}=t.getBoundingClientRect();return i>e?i:e},0),t=window.innerHeight-Array.from(this.bottomObstructions).reduce((e,t)=>{let{top:i}=t.getBoundingClientRect();return i<e?i:e},window.innerHeight);if(e!==this.topHeight||t!==this.bottomHeight){let i={rootMargin:`${-e}px 0px ${-t}px`,threshold:[0,.5,.8,1]};this.observer.disconnect(),this.observer=new window.IntersectionObserver(this._delegateChange,i),Array.from(this.activeImpressions.values()).forEach(e=>this.observer.observe(e.node)),this.topHeight=e,this.bottomHeight=t}}}},30378:(e,t,i)=>{i.d(t,{Z:()=>n});let n=new(i(307772)).ZP},681508:(e,t,i)=>{i.d(t,{Rq:()=>s,Vf:()=>r,jd:()=>a,oy:()=>l,yR:()=>u});var n=i(658583),o=i(622541);let s=e=>"ios"===e&&(window.devicePixelRatio||1)*window.screen.height==2436,r=28,a=e=>window.innerHeight>=748&&s(e),l=()=>"undefined"!=typeof window&&!!window.navigator&&(/iPad/.test(navigator.platform)||"MacIntel"===navigator.platform&&"ontouchend"in document&&Math.min(window.screen.width,window.screen.height)>=700),d=()=>{n.t8(o.oj,String(!0),(0,n.kZ)(o.oj))},c=()=>!!n.U2(o.oj),u=()=>{let e=l();e!==c()&&(e?d():n.zN(o.oj.name),"undefined"!=typeof window&&window.location.reload())}},201417:(e,t,i)=>{i.d(t,{Z:()=>n});function n(e){return"object"==typeof e&&null!==e&&e.constructor===Object&&"[object Object]"===Object.prototype.toString.call(e)}},179425:(e,t,i)=>{i.r(t),i.d(t,{default:()=>d});var n=i(883119),o=i(213377),s=i(681508),r=i(403862),a=i(5859),l=i(785893);let d=({children:e,dataLayoutShiftBoundaryId:t,hasFixedHeader:i=!1,hasGutter:d=!0,height:c,showKeychainError:u=!1,useViewport:h=!1})=>{let _=(0,a.B)(),p=(0,s.jd)(_.userAgent.platform)?s.Vf:0;return(0,l.jsx)(n.xu,{"data-layout-shift-boundary-id":t||"PageContainer",height:h?`calc(100vh - ${p}px)`:c,paddingX:d?o.D6:void 0,paddingY:i||u?void 0:3,children:(0,l.jsx)(r.C,{value:!!d,children:e})})}},403862:(e,t,i)=>{i.d(t,{C:()=>s,V:()=>r});var n=i(667294);let o=(0,n.createContext)(!1),s=o.Provider,r=()=>(0,n.useContext)(o)},483085:(e,t,i)=>{i.d(t,{Z:()=>function e(t,i=!1){return o=>{if(!(0,n.Z)(o))return i&&Array.isArray(o)?o.map(e(t,i)):o;let s={};return Object.keys(o).forEach(r=>{let a=t(o[r],r);(0,n.Z)(o[r])||i&&Array.isArray(o[r])?s[a]=e(t,i)(o[r]):s[a]=o[r]}),s}}});var n=i(201417)},256683:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(483085);function o(e,t=!1){let i=(t,i)=>e(i);return e=>(0,n.Z)(i,t)(e)}},996523:(e,t,i)=>{i.d(t,{Z:()=>function e(t,i,n=()=>void 0){let o=n(t,i);return void 0!==o?o:void 0===i?t:Array.isArray(t)&&Array.isArray(i)?i.reduce((t,o,s)=>(t[s]=e(t[s],i[s],n),t),[...t]):t&&"object"==typeof t&&i&&"object"==typeof i?Object.keys(i).reduce((t,o)=>(t[o]=e(t[o],i[o],n),t),{...t}):i}})},564855:(e,t,i)=>{i.d(t,{ZP:()=>o,mP:()=>n});let n="…";function o(e,t=80,i=n,s=!1){let r;if(!e)return"";if(e.length<=t)return e;if(" "!==e[t-1]&&" "===e[t]||s)r=e.substring(0,t);else{let i=e.lastIndexOf(" ",t);r=e.substring(0,i)}return(r=r.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""))+i}},369708:(e,t,i)=>{i.d(t,{W:()=>c,r:()=>d});var n=i(667294),o=i(214877),s=i(342513),r=i(340523),a=i(785893);let{Provider:l,useHook:d}=(0,s.Z)("VideoPlayer");function c({children:e}){let{logContextEvent:t,logImpression:i}=(0,o.v)(),{checkExperiment:s}=(0,r.F)(),[d,c]=(0,n.useState)(!1),[u,h]=(0,n.useState)([]),[_,p]=(0,n.useState)([]),[b,m]=(0,n.useState)({}),f=s("web_ads_mrc_video_impression").anyEnabled,g=e=>{m(t=>({...t,[e]:!0}))},v=(0,n.useCallback)(e=>{if(18===e.event_type&&e.event_data?.pinImpressions?.length){let{isNativeVideoAndWatchable:t}=e.event_data.pinImpressions[0],i=(e.aux_data?.commerce_data||"").includes("story_pin_id");f&&(t||i)&&h(t=>[...t,e].slice(-1e3))}},[f]),w=(0,n.useCallback)(e=>{18===e.eventType&&f&&p(t=>[...t,e].slice(-1e3))},[f]),P=e=>{let{time:t}=e.event_data.pinImpressions[0];return{...e,event_data:{...e.event_data,pinImpressions:[{...e.event_data.pinImpressions[0],isMrcBtr:!0,endTime:t,renderDuration:0}]}}},x=e=>{if(e.eventData){let{time:t}=e.eventData;return{...e,eventData:{...e.eventData,isMrcBtr:!0,endTime:t??0}}}return null};(0,n.useEffect)(()=>{let e=u.filter(e=>{let{pinIdStr:i}=e.event_data.pinImpressions[0];return!b[i]||!f||(t(P(e)),!1)});e.length!==u.length&&h(e)},[u,f,t,b]),(0,n.useEffect)(()=>{let e=_.filter(e=>{let t=e.eventData?.pinIdStr;if(!t)return!1;if(b[t]&&f){let t=x(e);return t&&i(t),!1}return!0});e.length!==_.length&&p(e)},[_,f,i,b]);let y=(0,n.useMemo)(()=>({captionsEnabled:d,logMrcVideoAdImpressionOnPlay:w,logMrcVideoAdEventOnPlay:v,setCaptionsEnabled:c,setVideoPlayed:g,videosPlayed:b}),[d,v,w,b]);return(0,a.jsx)(l,{value:y,children:e})}},35222:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(149722),o=i(785059),s=i(199677);let r=()=>{let e=(0,n.Z)(),t=(0,o.Z)();return(0,s.lJ)(e,t)}},104567:(e,t,i)=>{i.d(t,{Z:()=>l});var n=i(667294),o=i(883119),s=i(652151),r=i(785893);let a={boxShadow:"0px 8px 8px -8px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"};function l({children:e,forwardRef:t,position:i="static",shouldShowShadow:l=!1,top:d,style:c={}}){let{currentScrollPosition:u,isScrolled:h,setSubheaderShadow:_}=(0,s.W)();(0,n.useEffect)(()=>(l&&_("contentHeader"),()=>{l&&_(null)}),[l]);let p=!1;"pending"!==d&&(p=null!=d?u>=d:h);let b=(0,r.jsx)(o.xu,{ref:t,dangerouslySetInlineStyle:{__style:{position:i,...c,...p&&l&&{...a,zIndex:499}}},children:e});return"sticky"===i?(0,r.jsx)(o.Le,{top:0,children:b}):b}},831641:(e,t,i)=>{i.d(t,{Z:()=>j});var n=i(667294),o=i(545007),s=i(616550),r=i(883119),a=i(587703),l=i(220488),d=i(930837),c=i(140017),u=i(340523),h=i(554786),_=i(747602),p=i(785893);function b({isOpen:e,onDismiss:t}){let i=(0,c.ZP)();return(0,p.jsx)(d.ZP,{accessibilityModalLabel:i._('Disabled Pin Publishing Error Message Modal', 'disabledPinCreationModal.modal.accessibilityLabel', 'Label for disabled pin creation modal'),isOpen:e,mobileAccessibilityCloseIconLabel:i._('Close disabled publishing message modal', 'disabledPinCreationModal.modal.closeIconLabel', 'Label for the close button on the disabled publishing modal'),onDismiss:t,type:"DisabledPublishingModal",children:(0,p.jsxs)(r.xu,{alignItems:"center",direction:"column",display:"flex",paddingX:6,paddingY:4,children:[(0,p.jsx)(r.X6,{children:i._('Oops...', 'disabledPinCreationModal.modal.heading', 'Exclamation used to show recognition of a mistake.')}),(0,p.jsx)(r.xu,{paddingY:3,children:(0,p.jsx)(r.xv,{children:i._('Our server is experiencing a mild case of the hiccups at the moment. Please try refreshing and publishing again later.', 'disabledPinCreationModal.modal.text', 'Message to let users know there is an error.')})}),(0,p.jsx)(r.xu,{paddingY:3,children:(0,p.jsx)(r.zx,{color:"red",onClick:()=>t(),size:"lg",text:i._('Dismiss', 'disabledPinCreationModal.button.dismiss', 'Button text for closing the disabled pin creation modal')})})]})})}function m(e){let t=(0,c.ZP)(),{viewType:i,boardId:n,handleTouch:o}=e,s=t._('Board', 'createMenuLinkButton.Create.Board.Label', 'label for creating a new board option'),a=t._('Section', 'createMenuLinkButton.Create.Section.Label', 'label for creating a new section option');return 5===i&&n?(0,p.jsx)(r.Tg,{href:`/board/${n}/create_section/`,onTap:o,rounding:2,children:(0,p.jsx)(r.xu,{"data-test-id":"addSectionButton",paddingY:2,children:(0,p.jsx)(r.X6,{size:"400",children:a})})}):(0,p.jsx)(r.Tg,{href:"/board/create/",onTap:o,children:(0,p.jsx)(r.xu,{"data-test-id":"createMenuCreateBoardButton",paddingY:2,children:(0,p.jsx)(r.X6,{size:"400",children:s})})})}var f=i(851420);function g({disabledPinCreation:e,handleDisablePublish:t,handleTouch:i}){let n=(0,c.ZP)(),o=(0,s.k6)(),a=e=>({base64Image:e,method:f.I}),l=n._('Photo', 'createPinButton.Photo.Upload.Label', 'label to upload pin from camera roll photos');return(0,p.jsx)(r.iP,{onTap:()=>{if(e){t();return}i()},tapStyle:"none",children:(0,p.jsxs)(r.xu,{paddingY:2,position:"relative",children:[(0,p.jsx)(r.X6,{size:"400",children:l}),e?null:(0,p.jsx)("input",{accept:"image/*",id:"upload-pin",onChange:e=>{let t=new FileReader;t.readAsDataURL(e.target.files[0]),t.onload=()=>{let e=t.result;o.push({pathname:`/pin/create/${f.I}/`,state:a(String(e))})}},style:{opacity:0,position:"absolute",top:"0px",height:"100%",width:"100%"},type:"file"})]})})}var v=i(739382),w=i(358589),P=i(640772);function x(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let y=e=>{let t=window&&window.innerWidth||0,i=e._('Enter a link to create a Pin, https://...', 'placeholder in text field where a user inputs a URL to create a Pin', 'placeholder in text field where a user inputs a URL to create a Pin'),n=e._('Enter a link, https://...', 'placeholder in text field where a user inputs a URL to create a Pin - short version, 30 char limit', 'placeholder in text field where a user inputs a URL to create a Pin - short version, 30 char limit');return t<380?n:i};class A extends n.PureComponent{constructor(...e){super(...e),x(this,"state",{createPinFromLinkUrl:"",showCreateModal:!1,showInlineTextEditCreatePin:!1,showPublishingDisabledError:!1,urlValidationError:null}),x(this,"createPinFromLinkInput",(0,n.createRef)()),x(this,"createMenuPlusIconButtonRef",(0,n.createRef)()),x(this,"closeCreateModal",()=>{this.setState({showCreateModal:!1,showInlineTextEditCreatePin:!1}),this.props.updatePinBuilderInput({isInputOpen:!1,submittedLink:""})}),x(this,"clearValidationError",()=>{this.setState({urlValidationError:null})}),x(this,"openCreateModal",()=>{this.handleTouch(),this.props.requireAuthForLimitedLogin({fn:()=>this.setState({showCreateModal:!0}),modalHeader:(0,v.is)(this.props.i18n)})()}),x(this,"handleCreatePinFromLinkTouch",()=>{this.setState({showInlineTextEditCreatePin:!0}),this.props.updatePinBuilderInput({isInputOpen:!0})}),x(this,"handleDisablePublish",()=>{this.setState({showCreateModal:!1,showPublishingDisabledError:!0})}),x(this,"handleLinkFieldChange",({value:e})=>{this.setState({createPinFromLinkUrl:e})}),x(this,"handlePinFromLinkFormSubmit",(e,t)=>{let{createPinFromLinkUrl:i}=this.state,{experimentsClient:n}=this.props;e.preventDefault();let{errors:o}=(0,_.Jx)({message:this.props.i18n._('Oops! Please enter a valid URL.', 'URL validation error message on Pin builder form', 'URL validation error message on Pin builder form'),experimentsClient:n})(i),[s]=o;s?this.setState({urlValidationError:s}):this.handleUrlValidationSuccess(t)}),x(this,"handleTouch",()=>{let{logContextEvent:e,viewType:t,elementType:i}=this.props;e({view_type:t,view_parameter:3106,element:i,event_type:102})}),x(this,"handleUrlValidationSuccess",e=>{this.setState({showInlineTextEditCreatePin:!1});let{createPinFromLinkUrl:t}=this.state;this.props.updatePinBuilderInput({submittedLink:t}),e.push({pathname:"/pin-builder/",state:{createPinFromLinkUrl:t}}),this.closeCreateModal()}),x(this,"renderCreatePinFromLinkOption",()=>{let{disabledPinCreation:e,history:t}=this.props,{createPinFromLinkUrl:i,showInlineTextEditCreatePin:n}=this.state,o=this.props.i18n._('Website', 'editPin.CreatePinFromUrl.Label', 'label for option to create a pin from a url');return(0,p.jsx)(r.kC,{alignItems:"center",height:46,justifyContent:"start",children:n?(0,p.jsx)("form",{onSubmit:e=>this.handlePinFromLinkFormSubmit(e,t),style:{width:"100%"},children:(0,p.jsxs)(r.xu,{display:"flex",justifyContent:"between",position:"relative",children:[(0,p.jsxs)(r.xu,{ref:this.createPinFromLinkInput,width:"100%",children:[this.renderErrorFlyout(),(0,p.jsx)(r.nv,{id:"create-pin-from-link",onChange:this.handleLinkFieldChange,onFocus:()=>this.setState({urlValidationError:null}),placeholder:y(this.props.i18n),size:"lg",value:i})]}),(0,p.jsx)(r.hU,{accessibilityLabel:this.props.i18n._('Create Pin from entered link', 'navigation button to confirm user will create a Pin from a link they entered', 'navigation button to confirm user will create a Pin from a link they entered'),icon:"arrow-forward",iconColor:"darkGray",onClick:({event:e})=>this.handlePinFromLinkFormSubmit(e,t),size:"lg"})]})}):(0,p.jsx)(r.iP,{onTap:()=>{if(e){this.handleDisablePublish();return}this.handleCreatePinFromLinkTouch()},tapStyle:"none",children:(0,p.jsx)(r.xu,{"data-test-id":"websiteButton",position:"relative",children:(0,p.jsx)(r.X6,{size:"400",children:o})})})})}),x(this,"renderErrorFlyout",()=>{let{urlValidationError:e}=this.state;return e&&(0,p.jsx)(r.J2,{anchor:this.createPinFromLinkInput.current,idealDirection:"up",onDismiss:this.clearValidationError,size:"sm",children:(0,p.jsx)(r.xu,{padding:3,width:"100%",children:(0,p.jsxs)(r.kC,{gap:2,children:[(0,p.jsx)(r.qb,{type:"problem"}),(0,p.jsx)(r.xv,{align:"center",weight:"bold",children:e})]})})})})}componentDidMount(){let{isInputOpen:e,submittedLink:t}=this.props;(e||t)&&this.setState({showCreateModal:!!e,showInlineTextEditCreatePin:!!e,createPinFromLinkUrl:t||""})}render(){let{bgColor:e,boardId:t,buttonPadding:i,disabledPinCreation:o,i18n:s,isDesktop:a,iconButtonColor:c="gray",iconButtonSize:u="xl",viewType:h}=this.props,{showCreateModal:_,showPublishingDisabledError:f}=this.state,v=this.props.i18n._('Add a Pin or board', 'heading in profile create modal', 'heading in profile create modal');164===h?v=this.props.i18n._('Add to section', 'heading in section create modal', 'heading in section create modal'):5===h&&(v=this.props.i18n._('Add a Pin or section', 'heading in profile create modal', 'heading in profile create modal')||s._('Add to board', 'heading in board create modal', 'heading in board create modal'));let w=4===h?this.props.i18n._('Add to profile', 'editPin.AddToProfile.Modal.Header', 'heading in profile create modal'):v,P=(5===h||164===h)&&this.createMenuPlusIconButtonRef.current;return(0,p.jsxs)(n.Fragment,{children:[(0,p.jsx)(r.kC,{alignItems:"center",justifyContent:"start",children:(0,p.jsx)(r.xu,{"data-test-id":"createMenuCreateButton",children:(0,p.jsx)(r.hU,{ref:this.createMenuPlusIconButtonRef,accessibilityLabel:this.props.i18n._('Create a Pin or board', 'icon that opens model prompting user to create a new pin or board', 'icon that opens model prompting user to create a new pin or board'),bgColor:e,icon:"add",iconColor:c,onClick:this.openCreateModal,padding:"auto"!==i?i:1,size:u})})}),_&&(0,p.jsx)(d.ZP,{accessibilityModalLabel:"",heading:w,isOpen:this.state.showCreateModal,mobileAccessibilityCloseIconLabel:this.props.i18n._('close board and pin create modal', 'close modal that prompts user to create a new pin or board', 'close modal that prompts user to create a new pin or board'),onDismiss:this.closeCreateModal,type:"create_menu",children:(0,p.jsx)(r.xu,{padding:3,children:(0,p.jsxs)(r.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[(0,p.jsxs)(n.Fragment,{children:[(0,p.jsxs)(r.xu,{paddingX:2,children:[(0,p.jsx)(r.xv,{children:this.props.i18n._('Create', 'editPin.Create.Section.Text', 'Section title to Create new things on Edit Pin add modal')}),(0,p.jsx)(n.Fragment,{children:this.renderCreatePinFromLinkOption()}),(0,p.jsx)(g,{disabledPinCreation:o,handleDisablePublish:this.handleDisablePublish,handleTouch:this.handleTouch})]}),164!==h&&(0,p.jsxs)(r.xu,{marginTop:6,paddingX:2,children:[(0,p.jsx)(r.xv,{children:this.props.i18n._('Add', 'editPin.Section.Add.Text', 'Section Add title on Edit Pin add modal')}),(0,p.jsx)(m,{boardId:t,handleTouch:()=>{this.handleTouch(),this.closeCreateModal()},viewType:h})]})]}),(0,p.jsx)(r.xu,{display:"flex",justifyContent:"center",marginBottom:2,marginTop:7,children:(0,p.jsx)(r.zx,{onClick:()=>this.closeCreateModal(),size:"lg",text:this.props.i18n._('Close', 'editPin.Modal.Close.Button', 'Button text to close modal on EditPin')})})]})})}),f&&(0,p.jsx)(b,{isOpen:!0,onDismiss:()=>{this.setState({showPublishingDisabledError:!1})}}),P&&(0,p.jsx)(l.Z,{anchors:{[a?3006:4006]:this.createMenuPlusIconButtonRef.current},idealDirection:"up",onAnchorTouch:"complete",placementId:a?18:1000251,scrollToDismiss:!0})]})}}function j(e){let t=(0,c.ZP)(),i=(0,h.HG)(),n=(0,u.F)(),{checkExperiment:r}=n,l=["disable_all","disable_web_pins"].includes(r("disable_pin_creation").group),d=(0,o.I0)(),_=(0,s.k6)(),{pinBuilder:b}=(0,o.v9)(e=>e.session),m=(0,a.Z)(),f=b&&b.isInputOpen,g=b&&b.submittedLink,v=(0,w.Z)();return(0,p.jsx)(A,{...e,disabledPinCreation:l,experimentsClient:n,history:_,i18n:t,isDesktop:i,isInputOpen:f,logContextEvent:m,requireAuthForLimitedLogin:v,submittedLink:g,updatePinBuilderInput:e=>d((0,P.p)(e))})}},407996:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(883119),o=i(140017),s=i(785893);let r=({isInModal:e})=>{let t=(0,o.ZP)();return(0,s.jsx)(n.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255, 255, 255, .5)"}},display:"flex",height:"100%",justifyContent:"center",left:!0,position:e?"absolute":"fixed",top:!0,width:"100%",zIndex:new n.Ry(1),children:(0,s.jsx)(n.$j,{accessibilityLabel:t._('Loading', 'Full page loading state', 'Full page loading state'),show:!0})})}},652151:(e,t,i)=>{i.d(t,{H:()=>d,W:()=>l});var n=i(667294),o=i(342513),s=i(71328),r=i(785893);let{Provider:a,useHook:l}=(0,o.Z)("HeaderShadow");function d({children:e}){let[t,i]=(0,n.useState)(!1),[o,l]=(0,n.useState)(!1),[d,c]=(0,n.useState)(0),[u,h]=(0,n.useState)(null),_=(0,s.Z)(()=>{t&&(l(window.scrollY>0),c(window.scrollY))},50);return(0,n.useEffect)(()=>(i(!0),()=>{i(!1)}),[]),(0,n.useEffect)(()=>(window.addEventListener("scroll",_),()=>{window.removeEventListener("scroll",_)}),[t]),(0,r.jsx)(a,{value:{currentScrollPosition:d,isScrolled:o,setSubheaderShadow:h,subheaderShadow:u},children:e})}},490166:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(883119),o=i(785893);function s({children:e,onMouseEnter:t,onMouseLeave:i,onTouch:s,rounding:r,fullWidth:a=!1,pressState:l="none",accessibilityLabel:d,role:c,dataTestId:u}){let h=(Array.isArray(l)?l:[l]).includes("compress");return(0,o.jsx)(n.iP,{accessibilityLabel:d,dataTestId:u,fullWidth:a,onMouseEnter:t&&(({event:e})=>t(e)),onMouseLeave:i&&(({event:e})=>i(e)),onTap:s&&(({event:e})=>s(e)),role:c,rounding:r,tapStyle:h?"compress":"none",children:e})}},766311:(e,t,i)=>{i.d(t,{Z:()=>l});var n=i(667294),o=i(587703),s=i(217058);let r=e=>Object.keys(e).reduce((t,i)=>(void 0===e[i]&&delete t[i],t),{...e}),a=({viewType:e,viewParameter:t,viewData:i,auxData:n,objectIdStr:o,component:a,clientTrackingParams:l,element:d},c)=>{let u=r({event_type:13,view_type:e,view_parameter:t,view_data:i,aux_data:n,object_id_str:o,component:a,clientTrackingParams:l,element:d});-1===Object.keys(u).indexOf("view_type")&&(0,s.My)("mweb.logging.null_view_type"),c(u)};function l(e){let{auxData:t,clientTrackingParams:i,children:s,component:r,element:l,objectIdStr:d,viewData:c,viewParameter:u,viewType:h}=e,_=(0,o.Z)(),p=JSON.stringify(t),b=JSON.stringify(c);return(0,n.useEffect)(()=>{a(e,_)},[_,p,i,r,l,d,b,u,h]),n.Children.only(s)}},400564:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(883119),o=i(785893);function s(e){let{accessibilityLabel:t,bgColor:i,icon:s,iconColor:r,onClick:a,selected:l,size:d,tooltip:c}=e;return(0,o.jsx)(n.hU,{accessibilityLabel:t,bgColor:i??"transparent",icon:s,iconColor:r??"darkGray",onClick:a,selected:l,size:d??"lg",tooltip:c?{text:c}:void 0})}},452364:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(667294),o=i(883119),s=i(400564),r=i(785893);function a({bgColor:e,children:t,label:i,icon:a,iconColor:l,id:d,size:c,tooltip:u}){let h=(0,n.useRef)(null),[_,p]=(0,n.useState)(!1),b=()=>p(!1);return(0,r.jsxs)(n.Fragment,{children:[(0,r.jsx)(o.xu,{ref:h,"data-test-id":d,children:(0,r.jsx)(s.Z,{accessibilityLabel:i,bgColor:e,icon:a,iconColor:l,onClick:()=>p(!_),selected:_,size:c,tooltip:u})}),_&&(0,r.jsx)(o.Lt,{anchor:h.current,disableMobileUI:!0,id:"actionBarMenuButton",idealDirection:"down",onDismiss:b,zIndex:new o.Ry(1e3),children:t({handleClose:b})})]})}},851420:(e,t,i)=>{i.d(t,{I:()=>n,y:()=>o});let n="uploaded",o="pinbuilder"},344278:(e,t,i)=>{i.d(t,{CC:()=>l,H$:()=>c,Mt:()=>r,dp:()=>d,p9:()=>u});var n=i(191313),o=i(573810),s=i(407053);let r=(e,t,i,o,r,a,l=s.k7)=>{let d=(0,n.qn)(l)?JSON.parse((0,n.qn)(l)):[];if(!d[0]||d[0].path!==e){let s=[{path:e,ts:Date.now(),pin_id:i||0,first_pin_image_signature:t||"",first_pin_id:i||"",image_info:o||"",pin_description:r||"",is_shared:!!a,pin_invite_code:a}];(0,n.Nh)(l,JSON.stringify(s.concat(d)))}},a=()=>{let e;let t=(0,o.qn)(s.KH);if(!t)return[];try{e=JSON.parse(t)}catch(t){e=[]}return e},l=({path:e,image:t,dominant_color:i,pin_description:n,pin_id:r})=>{let l=a();l[0]&&l[0].path===e||(0,o.Nh)(s.KH,JSON.stringify([{path:e,image:t,pin_description:n||"",dominant_color:i||"",pin_id:r||""}].concat(l)))};function d(e,t,i,n,o,a){r(e,t,i,n,o,a,s.zR)}let c=(e,t,i,n,o)=>{r(e,t,i,n,o??"","",s.dy)};function u(e,t,i,n,o){r(e,t,i,n,o,"",s.QR)}},739382:(e,t,i)=>{i.d(t,{Bb:()=>b,Bx:()=>a,F4:()=>r,Qj:()=>l,_6:()=>p,gv:()=>s,hg:()=>d,is:()=>h,jP:()=>_,lt:()=>o,oM:()=>c,wI:()=>u});var n=i(624797);let o=e=>e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal'),s=({firstName:e,i18n:t})=>e?(t._('{{ name }} invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends({{ name }}) board')).replace("{{ name }}",e):t._('Your friends invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends board'),r=e=>{let t=(0,n.mB)(e.search).board_url;if(t){let e=(0,n.Jx)(t),i=(0,n.XP)({accept_invite:!0,seamless:!0});return e.includes("?")?`${e}&${i}`:`${e}?${i}`}return e.pathname},a=e=>e._('Log in to save this Pin', 'limitedLogin.modalHeader.repin', 'Title on mobile web limited login modal to prompt users to login after they clicked save button.'),l=e=>{let t=e.pathname;if(t.startsWith("/pin/")){let e=t.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/repin/`}return t},d=e=>e._('Log in to send this Pin', 'limitedLogin.modalHeader.send', 'Title on mobile web limited login modal to prompt users to login after they clicked send button.'),c=e=>e._('Log in to edit this Pin', 'limitedLogin.modalHeader.editPin', 'Title on mobile web limited login modal to prompt users to login after they clicked edit button.'),u=e=>{let t=e.pathname;if(t.startsWith("/pin/")){let e=t.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/edit/`}return t},h=e=>e._('Log in to create a Pin or board', 'limitedLogin.modalHeader.create', 'Title on mobile web limited login modal to prompt users to login to create a Pin or board.'),_=e=>e._('Log in to hide this Pin', 'limitedLogin.modalHeader.hidePin', 'Title on mobile web limited login modal to prompt users to login after they clicked hide Pin button.'),p=e=>e._('Log in to share the profile', 'limitedLogin.modalHeader.shareProfile', 'Title on mobile web limited login modal to prompt users to login after they clicked share button on profile page.'),b=e=>e._('Log in to create a board', 'limitedLogin.modalHeader.createBoard', 'Title on mobile web limited login modal to prompt users to login to create a board.')},101056:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(5859),o=i(541891);function s(){let{countryFromIp:e}=(0,n.B)();return{isEUBasedIp:!!e&&!!o.a0?.dsa?.COUNTRY_CODES?.includes(e),isIndiaIp:!!e&&!!o.a0?.india?.COUNTRY_CODES?.includes(e)}}},588380:(e,t,i)=>{i.d(t,{Fj:()=>l,JI:()=>d,aG:()=>a});var n=i(667294),o=i(785893);let s=(0,n.createContext)(),r=(0,n.createContext)();function a({children:e}){let[t,i]=(0,n.useState)(!1);return(0,o.jsx)(s.Provider,{value:t,children:(0,o.jsx)(r.Provider,{value:i,children:e})})}function l(){let e=(0,n.useContext)(s);if(void 0===e)throw Error("useCountState must be used within a ShowBoardlessPinsContextProvider");return e}function d(){let e=(0,n.useContext)(r);if(void 0===e)throw Error("useCountUpdater must be used within a ShowBoardlessPinsContextProvider");return e}},875936:(e,t,i)=>{i.d(t,{PJ:()=>a,Zu:()=>r,c6:()=>s,mM:()=>o});var n=i(883119);let o=new n.Ry(1),s=new n.H3([o]),r=new n.H3([s]),a=new n.H3([r])},640772:(e,t,i)=>{i.d(t,{F:()=>n,p:()=>o});let n=e=>({type:"PIN_BUILDER_LOADED_IMAGES",payload:e}),o=e=>({type:"UPDATE_PIN_BUILDER_INPUT",payload:e})},125768:(e,t,i)=>{i.d(t,{Z:()=>f});var n=i(545007),o=i(616550),s=i(883119),r=i(224796),a=i(587703),l=i(525364),d=i(696534),c=i(140017),u=i(741983),h=i(731714),_=i(217058),p=i(623409),b=i(554786),m=i(785893);function f({alignIconLeft:e,bgColor:t,color:i,disableRedirect:f=!1,fallbackUrl:g,icon:v="arrow-back",onTouch:w,padding:P,placement:x,shouldUseFallbackUrl:y,size:A="lg",viewParameter:j,viewType:C,isVisualSearch:E}){let I=(0,c.ZP)(),z=(0,o.k6)(),S=(0,o.TH)(),L=(0,b.HG)(),k=(0,n.v9)(e=>e.session.isAuthenticated),O=(0,a.Z)(),R=(0,p.Z)(),T=(0,d.vs)(),{viewType:M,viewParameter:B}=(0,l.SU)(),[D,Z]=C?[C,j]:[M,B],F=()=>S.search&&S.search.includes("?nativeShouldDismiss=true"),N=()=>{let e=h.Z.getItem(r.pm);S.key||"/ideas"!==g?(0,_.My)(`pinner_conversion.back_button.${String(e?.[0].pageType)}`):(0,_.My)("pinner_conversion.back_button.no_history"),(0,_.My)(`web_back_button_click.${String(x)}.is_auth_${String(k)}`),R({action:"click",item:"back-button"}),D&&O({view_type:D,view_parameter:Z,element:34,event_type:102}),w&&w(),f||((!S.key||S.state&&"redirect"===S.state.referrer||y)&&g?z.push(g):S.pathname.includes("/password/reset/")&&F()?z.push("/login/?dismissWebview=true"):z.goBack())},H=T?d.t4:"white",U=(0,u.am)(S)||E||"white"===i;return(0,m.jsx)(s.xu,{"data-test-id":"back-button",children:e?(0,m.jsx)(s.xu,{alignItems:"center",display:"flex",height:48,marginStart:"cancel"===v?-1:-2,width:48,children:(0,m.jsx)(s.hU,{accessibilityLabel:I._('Back', 'navigation button', 'navigation button'),bgColor:t,icon:v,iconColor:!i&&(!t||["white","lightGray","transparent"].includes(t))?"gray":i,onClick:N,padding:"auto"!==P?P:2,size:A})}):(0,m.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:L||U?"":H}},rounding:"circle",children:(0,m.jsx)(s.hU,{accessibilityLabel:I._('Back', 'navigation button', 'navigation button'),bgColor:t||L?t:"transparent",icon:v,iconColor:!i&&(!t||["white","lightGray","transparent"].includes(t))?"gray":i,onClick:N,padding:"auto"!==P?P:2,size:A})})})}},94816:(e,t,i)=>{i.d(t,{Z:()=>h,o:()=>u});var n=i(667294),o=i(883119),s=i(587703),r=i(515278),a=i(213377),l=i(140017),d=i(149722),c=i(785893);let u="AddPinRep";function h({ctaText:e,handleClick:t,height:i,iconSize:u,textSize:h,component:_}){let p=(0,s.Z)(),b=(0,l.ZP)(),m=(0,d.Z)(),f=(0,r.Z)();return(0,n.useEffect)(()=>{p({event_type:120,component:_??0,element:10643})},[p,_]),(0,c.jsx)(o.xu,{children:(0,c.jsx)(o.Tg,{href:"/pin-builder/",onTap:()=>{if(f){f();return}m.isPartner&&p({event_type:101,component:0,element:10643}),t&&t()},children:(0,c.jsxs)(o.st,{children:[(0,c.jsx)(o.xu,{alignItems:"center",color:"secondary",display:"flex",fit:!0,height:i||a.yF,justifyContent:"center",rounding:2,width:i||void 0,children:(0,c.jsx)(o.xu,{color:"default",height:u||40,rounding:"circle",width:u||40,children:(0,c.jsx)(o.JO,{accessibilityLabel:"",color:"error",icon:"add-circle",inline:!0,size:u||40})})}),(0,c.jsx)(o.xu,{padding:2,children:(0,c.jsx)(o.xv,{color:"subtle",size:h||"300",weight:"bold",children:e||b._('Create Pin', 'label to open create pin modal', 'label to open create pin modal')})})]})})})}},847754:(e,t,i)=>{i.d(t,{I:()=>l,Z:()=>a});var n=i(340523),o=i(757640),s=i(35222);let r=({boardId:e,ownerUsername:t,ownerName:i,ownerImgSrc:r})=>{let{anyEnabled:a}=(0,n.F)().checkExperiment("web_m10n_business_access_orbac_ga"),l=(0,s.Z)(),{data:d,isLoaded:c}=(0,o.Z)({name:"BoardInvitesResource",options:{board_id:e,field_set_key:"boardEdit",status_filters:"new,accepted,contact_request_not_approved",sort:"viewer_first",include_inactive:!0,...a&&l?{orbac_subject_id:l}:{}}}),u=[{name:i,src:r,href:`/${t}/`,isDim:!1}];return c&&d&&d.length>0&&d.forEach(e=>{u.push({name:e&&e.invited_user?e.invited_user.full_name:"",src:e&&e.invited_user?e.invited_user.image_medium_url:"",href:e&&e.invited_user?`/${e.invited_user.username}/`:"",isDim:e&&["new","contact_request_not_approved"].includes(e.status)})}),u},a=r;function l({children:e,...t}){return e(r(t))}},10568:(e,t,i)=>{i.d(t,{Z:()=>g});var n=i(667294),o=i(883119),s=i(214877),r=i(140017),a=i(915986),l=i(785893);function d({anchor:e,hideAddSectionTooltip:t}){let i=(0,r.ZP)();return(0,l.jsx)(o.mh,{children:(0,l.jsx)(o.xu,{position:"absolute",top:!0,zIndex:a.bW,children:(0,l.jsx)(o.Li,{anchor:e,idealDirection:"down",message:i._('Tap + to add a section any time', 'boardActionsButton.addIconButton.addSectionFlyout', 'Flyout to point out where you can find add section'),onDismiss:t})})})}var c=i(406718),u=i(875936);function h({anchor:e,idealDirection:t,onAddOrEditDate:i,onAddSection:s,onClose:a,onCreateBoard:d,onCreatePin:h,onCreateStoryPin:_,surface:p,isWithinFixedContainer:b}){let m=(0,r.ZP)(),f=(0,c.Z)(!0),g=(0,n.useMemo)(()=>({pin:m._('Pin', 'BoardActionsButton.LegoFlyout.Pin', 'Option to create a pin'),rename:m._('Idea Pin', 'BoardActionsButton.LegoFlyout.IdeaPin', 'Option to create a Idea Pin'),board:m._('Board', 'profileHeader.actionBar.board', 'Option to create a board'),section:m._('Section', 'BoardActionsButton.LegoFlyout.Section', 'Option to create a board section'),date:m._('Date', 'BoardActionsButton.LegoFlyout.Date', 'Option to add a date to a board'),todos:m._('To-dos', 'BoardActionsButton.LegoFlyout.Note', 'Option to create a board note'),new:m._('New', 'BoardActionsButton.LegoFlyout.New', 'New option indicator')}),[m]);return(0,l.jsxs)(o.Lt,{anchor:e,id:"board_actions",idealDirection:t||"down",isWithinFixedContainer:b,onDismiss:a,zIndex:u.PJ,children:[(0,l.jsx)(o.Lt.Section,{label:m._('Create', 'BoardActionsButton.LegoFlyout.Create', 'Label for a list of options to create a pin or a section'),children:[!f&&(0,l.jsx)(o.Lt.Item,{dataTestId:"Create Pin",onSelect:()=>{h(),a()},option:{label:g.pin,value:g.pin}},"actions-create-0"),_&&(0,l.jsx)(o.Lt.Item,{dataTestId:"Create Story Pin",onSelect:()=>{_(),a()},option:{label:f?g.pin:g.rename,value:f?g.pin:g.rename}},"actions-create-1"),"profileBoards"===p&&d&&(0,l.jsx)(o.Lt.Item,{dataTestId:"Create board",onSelect:()=>{d(),a()},option:{label:g.board,value:g.board}},"actions-create-2")].filter(Boolean)}),"board"===p&&(0,l.jsx)(o.Lt.Section,{label:m._('Add', 'BoardActionsButton.LegoFlyout.Add', 'Label for a list of options to add board sections or a board date'),children:[s&&(0,l.jsx)(o.Lt.Item,{dataTestId:"addSection",onSelect:()=>{s(),a()},option:{label:g.section,value:g.section}},"actions-add-1"),!!i&&(0,l.jsx)(o.Lt.Item,{onSelect:()=>{i(),a()},option:{label:g.date,value:g.date}},"actions-add-2")].filter(Boolean)})]})}var _=i(619370),p=i(588380);function b({anchor:e}){let t=(0,p.JI)();return(0,l.jsx)(o.mh,{children:(0,l.jsx)(o.xu,{position:"absolute",top:!0,zIndex:a.bW,children:(0,l.jsx)(_.default,{anchor:e,experienceIds:[503447],flyoutSize:"md",idealDirection:"down",onClickComplete:()=>{t(!0)},placementId:19,positionRelativeToAnchor:!1,showCaret:!0,textAlign:"center",textWeight:"normal"})})})}function m({anchor:e}){return(0,l.jsx)(o.mh,{children:(0,l.jsx)(o.xu,{position:"absolute",top:!0,zIndex:a.bW,children:(0,l.jsx)(_.default,{anchor:e,experienceIds:[502096],idealDirection:"down",placementId:18,positionRelativeToAnchor:!1,showCaret:!0})})})}var f=i(971504);function g({children:e,idealDirection:t,onAddOrEditDate:i,onAddSection:a,onCreateBoard:c,onCreatePin:u,onCreateStoryPin:_,onOpen:p=()=>{},surface:g,isWithinFixedContainer:v}){let w;let P=(0,r.ZP)(),{showCreateSectionTooltip:x,setShowCreateSectionTooltip:y}=(0,f.L)()??{},{logContextEvent:A}=(0,s.v)(),j=()=>y(!1),C=(0,n.useRef)(),[E,I]=(0,n.useState)(!1),z=()=>{p(),x&&j(),I(!0),A({component:13056,element:1208,event_type:101,view_parameter:3106,view_type:4})},S=()=>I(!1),L=()=>{E?S():z()},k={board:P._('Board Actions', 'button that allows user view actions on a board such as add section, create pin, create pincode, and create widget', 'button that allows user view actions on a board such as add section, create pin, create pincode, and create widget'),profileBoards:P._('Profile Actions', 'profileHeader.actionBar.createButton', 'Button on user\'s profile to open flyout with options to create a pin or a board'),profilePins:P._('Profile Actions', 'profileHeader.actionBar.createButton', 'Button on user\'s profile to open flyout with options to create a pin or a board'),section:P._('Create Pin', 'Button to begin pin creation flow', 'Button to begin pin creation flow')},O=e&&e({active:E,openFlyout:L})||(0,l.jsx)(o.hU,{accessibilityLabel:k[g],icon:"add",iconColor:"gray",onClick:"section"===g?u:L,size:"lg"});return!E&&"board"===g&&(x?w="addSectionTooltip":i&&(w="planningActionsExperience")),E||"profileBoards"!==g||(w="createBoardTooltip"),(0,l.jsxs)(o.xu,{"data-test-id":"boardActionsButton",children:[(0,l.jsx)(o.xu,{ref:C,children:O}),E&&(0,l.jsx)(h,{anchor:C.current,idealDirection:t,isWithinFixedContainer:!!v,onAddOrEditDate:i,onAddSection:a,onClose:S,onCreateBoard:c,onCreatePin:u,onCreateStoryPin:_,surface:g}),"addSectionTooltip"===w&&(0,l.jsx)(d,{anchor:C.current,hideAddSectionTooltip:j}),"planningActionsExperience"===w&&(0,l.jsx)(m,{anchor:C.current}),"createBoardTooltip"===w&&(0,l.jsx)(b,{anchor:C.current})]})}},971504:(e,t,i)=>{i.d(t,{L:()=>a,M:()=>l});var n=i(667294),o=i(342513),s=i(785893);let{Provider:r,useMaybeHook:a}=(0,o.Z)("CreateSectionTooltip");function l({children:e}){let[t,i]=(0,n.useState)(!1),o=(0,n.useMemo)(()=>({showCreateSectionTooltip:t,setShowCreateSectionTooltip:i}),[t]);return(0,s.jsx)(r,{value:o,children:e})}},54966:(e,t,i)=>{i.d(t,{Z:()=>n});function n({boardDensity:e,component:t,viewType:i,viewParameter:n},o){let s=function({boardDensity:e,viewType:t}){switch(t){case 164:return"regular"===e?10618:10619;case 5:case 4:return"regular"===e?10607:10608;default:return 10607}}({boardDensity:e,viewType:i}),r=n??4===i?3106:3069;o({event_type:101,component:t,element:s,...i?{view_type:i,view_parameter:r}:Object.freeze({})})}},881157:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(216167);function o({density:e,surface:t}){n.Z.create("UserMetadataResource","board"===t?{profile_pin_rep_view_type:e}:{board_pin_rep_view_type:e}).callUpdate()}},915986:(e,t,i)=>{i.d(t,{A3:()=>d,C1:()=>u,Cw:()=>p,Ev:()=>s,IK:()=>o,Jk:()=>l,Kx:()=>_,Oj:()=>r,PM:()=>b,VD:()=>h,bW:()=>a,kz:()=>c,p8:()=>m});var n=i(883119);let o=1,s=1,r=2,a=new n.Ry(5e3),l=15,d=15,c=18,u=24,h=31,_=30,p=40,b=50,m=60},832853:(e,t,i)=>{i.d(t,{Z:()=>l});var n=i(667294),o=i(14583);let{Provider:s,useMaybeHook:r}=(0,i(342513).Z)("LazyComponent");var a=i(785893);function l(e,t,i){let s,l,d;let c=t?.ssr??!0?n.Suspense:o.Z,u=i=>{r(),t?.dynamicRequestKey,l||(l=(0,n.lazy)(()=>e(i)));let o=(0,n.useRef)(s??l).current;return(0,a.jsx)(c,{fallback:i.fallback||t?.fallback,children:(0,a.jsx)(o,{...i})})};function h(t){return d||(d=(async()=>s=(await e(t)).default)()),d}return u.preload=e=>{h(e)},u.load=e=>h(e),u}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/98581-047abcf1f96aaefd.mjs.map